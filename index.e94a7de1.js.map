{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-09483e34ad651282.js","src/sprites/Ball.ts","src/sprites/Paddle.ts","src/Collison.ts","node_modules/@parcel/runtime-js/lib/runtime-4505ab20c76810f6.js","node_modules/@parcel/runtime-js/lib/runtime-af849784ff961539.js","node_modules/@parcel/runtime-js/lib/runtime-f132647daf9fc71b.js","node_modules/@parcel/runtime-js/lib/runtime-7e456d8a4f38ecae.js","node_modules/@parcel/runtime-js/lib/runtime-fef99ad0776ba65b.js","node_modules/@parcel/runtime-js/lib/runtime-7c6dcb941c80f4f8.js","node_modules/@parcel/runtime-js/lib/runtime-4520fb8704de8a92.js","src/setup.ts","src/sprites/Brick.ts","src/index.ts","src/view/CanvasView.ts","src/helpers.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1LzKV\\\":\\\"index.e94a7de1.js\\\",\\\"52abJ\\\":\\\"paddle.59785228.png\\\",\\\"04ZtS\\\":\\\"ball.5d2aed75.png\\\",\\\"18x6a\\\":\\\"brick-red.15768ee1.png\\\",\\\"2ByUz\\\":\\\"brick-blue.2842147b.png\\\",\\\"kGInd\\\":\\\"brick-green.559eaa27.png\\\",\\\"3NdBM\\\":\\\"brick-yellow.adc6599c.png\\\",\\\"4JXcm\\\":\\\"brick-purple.dccf6a30.png\\\"}\"));","import { Vector } from '../types';\n\nexport class Ball {\n  private speed: Vector;\n  private ballImage: HTMLImageElement = new Image();\n\n  constructor(\n    speed: number,\n    private ballSize: number,\n    private position: Vector,\n    image: string\n  ) {\n    this.ballSize = ballSize;\n    this.position = position;\n    this.speed = {\n      x: speed,\n      y: -speed\n    };\n    this.ballImage.src = image;\n  }\n\n  // Getters\n  get width(): number {\n    return this.ballSize;\n  }\n\n  get height(): number {\n    return this.ballSize;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  get image(): HTMLImageElement {\n    return this.ballImage;\n  }\n\n  // Methods\n  changeYDirection(): void {\n    this.speed.y = -this.speed.y;\n  }\n\n  changeXDirection(): void {\n    this.speed.x = -this.speed.x;\n  }\n\n  moveBall(): void {\n    this.pos.x += this.speed.x;\n    this.pos.y += this.speed.y;\n  }\n}\n","import { Vector } from '../types';\n\nexport class Paddle {\n  private paddleImage: HTMLImageElement = new Image();\n  private moveLeft: boolean;\n  private moveRight: boolean;\n\n  constructor(\n    private speed: number,\n    private paddleWidth: number,\n    private paddleHeight: number,\n    private position: Vector,\n    image: string\n  ) {\n    this.speed = speed;\n    this.paddleWidth = paddleWidth;\n    this.paddleHeight = paddleHeight;\n    this.position = position;\n    this.moveLeft = false;\n    this.moveRight = false;\n    this.paddleImage.src = image;\n\n    // Event Listeners\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  // Getters\n  get width(): number {\n    return this.paddleWidth;\n  }\n\n  get height(): number {\n    return this.paddleHeight;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  get image(): HTMLImageElement {\n    return this.paddleImage;\n  }\n\n  get isMovingLeft(): boolean {\n    return this.moveLeft;\n  }\n\n  get isMovingRight(): boolean {\n    return this.moveRight;\n  }\n\n  movePaddle(): void {\n    if (this.moveLeft) this.pos.x -= this.speed;\n    if (this.moveRight) this.pos.x += this.speed;\n  }\n\n  handleKeyUp = (e: KeyboardEvent): void => {\n    if (e.code === 'ArrowLeft' || e.key === 'ArrowLeft') this.moveLeft = false;\n    if (e.code === 'ArrowRight' || e.key === 'ArrowRight')\n      this.moveRight = false;\n  };\n\n  handleKeyDown = (e: KeyboardEvent): void => {\n    if (e.code === 'ArrowLeft' || e.key === 'ArrowLeft') this.moveLeft = true;\n    if (e.code === 'ArrowRight' || e.key === 'ArrowRight')\n      this.moveRight = true;\n  };\n}\n","// Types\nimport { Brick } from './sprites/Brick';\nimport { Paddle } from './sprites/Paddle';\nimport { Ball } from './sprites/Ball';\nimport { CanvasView } from './view/CanvasView';\n\nexport class Collision {\n  isCollidingBrick(ball: Ball, brick: Brick): boolean {\n    if (\n      ball.pos.x < brick.pos.x + brick.width &&\n      ball.pos.x + ball.width > brick.pos.x &&\n      ball.pos.y < brick.pos.y + brick.height &&\n      ball.pos.y + ball.height > brick.pos.y\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  // Check ball collision with bricks\n  isCollidingBricks(ball: Ball, bricks: Brick[]): boolean {\n    let colliding = false;\n\n    bricks.forEach((brick, i) => {\n      if (this.isCollidingBrick(ball, brick)) {\n        ball.changeYDirection();\n\n        if (brick.energy === 1) {\n          bricks.splice(i, 1);\n        } else {\n          brick.energy -= 1;\n        }\n        colliding = true;\n      }\n    });\n    return colliding;\n  }\n\n  checkBallCollision(ball: Ball, paddle: Paddle, view: CanvasView): void {\n    // 1. Check ball collision with paddle\n    if (\n      ball.pos.x + ball.width > paddle.pos.x &&\n      ball.pos.x < paddle.pos.x + paddle.width &&\n      ball.pos.y + ball.height === paddle.pos.y\n    ) {\n      ball.changeYDirection();\n    }\n    // 2. Check ball collision with walls\n    // Ball movement X constraints\n    if (ball.pos.x > view.canvas.width - ball.width || ball.pos.x < 0) {\n      ball.changeXDirection();\n    }\n    // Ball movement Y constraints\n    if (ball.pos.y < 0) {\n      ball.changeYDirection();\n    }\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"52abJ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"04ZtS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"18x6a\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2ByUz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kGInd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3NdBM\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4JXcm\")).toString();","import RED_BRICK_IMAGE from './images/brick-red.png';\nimport BLUE_BRICK_IMAGE from './images/brick-blue.png';\nimport GREEN_BRICK_IMAGE from './images/brick-green.png';\nimport YELLOW_BRICK_IMAGE from './images/brick-yellow.png';\nimport PURPLE_BRICK_IMAGE from './images/brick-purple.png';\n\n// Grab the canvas element for calculating the brick width\n// depending on canvas width\nconst canvas: HTMLCanvasElement | null = document.querySelector('#playField');\n\n// Constants\nexport const STAGE_PADDING = 10;\nexport const STAGE_ROWS = 20;\nexport const STAGE_COLS = 10;\nexport const BRICK_PADDING = 5;\nexport const BRICK_WIDTH = canvas\n  ? Math.floor((canvas.width - STAGE_PADDING * 2) / STAGE_COLS) - BRICK_PADDING\n  : 100;\nexport const BRICK_HEIGHT = canvas\n  ? Math.floor((canvas.height - STAGE_PADDING * 2) / STAGE_ROWS) - BRICK_PADDING\n  : 30;\nexport const PADDLE_WIDTH = 150;\nexport const PADDLE_HEIGHT = 25;\nexport const PADDLE_STARTX = 450;\nexport const PADDLE_SPEED = 10;\nexport const BALL_SPEED = 5;\nexport const BALL_SIZE = 20;\nexport const BALL_STARTX = 500;\nexport const BALL_STARTY = 400;\n\nexport const BRICK_IMAGES: { [key: number]: string } = {\n  1: RED_BRICK_IMAGE,\n  2: GREEN_BRICK_IMAGE,\n  3: YELLOW_BRICK_IMAGE,\n  4: BLUE_BRICK_IMAGE,\n  5: PURPLE_BRICK_IMAGE\n};\n\nexport const BRICK_ENERGY: { [key: number]: number } = {\n  1: 1, // Red brick\n  2: 1, // Green brick\n  3: 2, // Yellow brick\n  4: 2, // Blue brick\n  5: 3 // Purple brick\n};\n\n// prettier-ignore\nexport const LEVEL = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 1, 1, 1, 1, 1, 1, 0, 0,\n  0, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n  0, 3, 3, 3, 3, 3, 3, 3, 3, 0,\n  0, 0, 4, 4, 4, 4, 4, 4, 0, 0, \n  0, 0, 5, 5, 0, 0, 5, 5, 0, 0,\n];\n","import { Vector } from '../types';\n\nexport class Brick {\n  private brickImage: HTMLImageElement = new Image();\n\n  constructor(\n    private brickWidth: number,\n    private brickHeight: number,\n    private position: Vector,\n    private brickEnergy: number,\n    image: string\n  ) {\n    this.brickWidth = brickWidth;\n    this.brickHeight = brickHeight;\n    this.position = position;\n    this.brickEnergy = brickEnergy;\n    this.brickImage.src = image;\n  }\n\n  // Getters\n  get width(): number {\n    return this.brickWidth;\n  }\n\n  get height(): number {\n    return this.brickHeight;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  get image(): HTMLImageElement {\n    return this.brickImage;\n  }\n\n  get energy(): number {\n    return this.brickEnergy;\n  }\n\n  // Setter\n  set energy(energy: number) {\n    this.brickEnergy = energy;\n  }\n}\n","import { CanvasView } from './view/CanvasView';\nimport { Ball } from './sprites/Ball';\nimport { Brick } from './sprites/Brick';\nimport { Paddle } from './sprites/Paddle';\nimport { Collision } from './Collison';\n// Images\nimport PADDLE_IMAGE from './images/paddle.png';\nimport BALL_IMAGE from './images/ball.png';\n// Level and colors\nimport {\n  PADDLE_SPEED,\n  PADDLE_WIDTH,\n  PADDLE_HEIGHT,\n  PADDLE_STARTX,\n  BALL_SPEED,\n  BALL_SIZE,\n  BALL_STARTX,\n  BALL_STARTY\n} from './setup';\n// Helpers\nimport { createBricks } from './helpers';\n\nlet gameOver = false;\nlet score = 0;\n\nfunction setGameOver(view: CanvasView) {\n  view.drawInfo('Game Over!');\n  gameOver = false;\n}\n\nfunction setGameWin(view: CanvasView) {\n  view.drawInfo('Game Won!');\n  gameOver = false;\n}\n\nfunction gameLoop(\n  view: CanvasView,\n  bricks: Brick[],\n  paddle: Paddle,\n  ball: Ball,\n  collision: Collision\n) {\n  console.log('draw!');\n  view.clear();\n  view.drawBricks(bricks);\n  view.drawSprite(paddle);\n  view.drawSprite(ball);\n  // Move Ball\n  ball.moveBall();\n\n  // Move paddle and check so it won't exit the playfield\n  if (\n    (paddle.isMovingLeft && paddle.pos.x > 0) ||\n    (paddle.isMovingRight && paddle.pos.x < view.canvas.width - paddle.width)\n  ) {\n    paddle.movePaddle();\n  }\n\n  collision.checkBallCollision(ball, paddle, view);\n  const collidingBrick = collision.isCollidingBricks(ball, bricks);\n\n  if (collidingBrick) {\n    score += 1;\n    view.drawScore(score);\n  }\n\n  // Game Over when ball leaves playField\n  if (ball.pos.y > view.canvas.height) gameOver = true;\n  // If game won, set gameOver and display win\n  if (bricks.length === 0) return setGameWin(view);\n  // Return if gameover and don't run the requestAnimationFrame\n  if (gameOver) return setGameOver(view);\n\n  requestAnimationFrame(() => gameLoop(view, bricks, paddle, ball, collision));\n}\n\nfunction startGame(view: CanvasView) {\n  // Reset displays\n  score = 0;\n  view.drawInfo('');\n  view.drawScore(0);\n  // Create a collision instance\n  const collision = new Collision();\n  // Create all bricks\n  const bricks = createBricks();\n  // Create a Ball\n  const ball = new Ball(\n    BALL_SPEED,\n    BALL_SIZE,\n    { x: BALL_STARTX, y: BALL_STARTY },\n    BALL_IMAGE\n  );\n  // Create a Paddle\n  const paddle = new Paddle(\n    PADDLE_SPEED,\n    PADDLE_WIDTH,\n    PADDLE_HEIGHT,\n    {\n      x: PADDLE_STARTX,\n      y: view.canvas.height - PADDLE_HEIGHT - 5\n    },\n    PADDLE_IMAGE\n  );\n\n  gameLoop(view, bricks, paddle, ball, collision);\n}\n\n// Create a new view\nconst view = new CanvasView('#playField');\nview.initStartButton(startGame);\n","// Types\nimport { Brick } from '../sprites/Brick';\nimport { Paddle } from '../sprites/Paddle';\nimport { Ball } from '../sprites/Ball';\n\nexport class CanvasView {\n  canvas: HTMLCanvasElement;\n  private context: CanvasRenderingContext2D | null;\n  private scoreDisplay: HTMLObjectElement | null;\n  private start: HTMLObjectElement | null;\n  private info: HTMLObjectElement | null;\n\n  constructor(canvasName: string) {\n    this.canvas = document.querySelector(canvasName) as HTMLCanvasElement;\n    this.context = this.canvas.getContext('2d');\n    this.scoreDisplay = document.querySelector('#score');\n    this.start = document.querySelector('#start');\n    this.info = document.querySelector('#info');\n  }\n\n  clear(): void {\n    this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  initStartButton(startFunction: (view: CanvasView) => void): void {\n    this.start?.addEventListener('click', () => startFunction(this));\n  }\n\n  drawScore(score: number): void {\n    if (this.scoreDisplay) this.scoreDisplay.innerHTML = score.toString();\n  }\n\n  drawInfo(text: string): void {\n    if (this.info) this.info.innerHTML = text;\n  }\n\n  drawSprite(brick: Brick | Paddle | Ball): void {\n    if (!brick) return;\n\n    this.context?.drawImage(\n      brick.image,\n      brick.pos.x,\n      brick.pos.y,\n      brick.width,\n      brick.height\n    );\n  }\n\n  drawBricks(bricks: Brick[]): void {\n    bricks.forEach(brick => this.drawSprite(brick));\n  }\n}\n","import { Brick } from './sprites/Brick';\nimport {\n  BRICK_IMAGES,\n  LEVEL,\n  STAGE_COLS,\n  STAGE_PADDING,\n  BRICK_WIDTH,\n  BRICK_HEIGHT,\n  BRICK_PADDING,\n  BRICK_ENERGY\n} from './setup';\n\nexport function createBricks(): Brick[] {\n  return LEVEL.reduce((ack, element, i) => {\n    const row = Math.floor((i + 1) / STAGE_COLS);\n    const col = i % STAGE_COLS;\n\n    const x = STAGE_PADDING + col * (BRICK_WIDTH + BRICK_PADDING);\n    const y = STAGE_PADDING + row * (BRICK_HEIGHT + BRICK_PADDING);\n\n    if (element === 0) return ack;\n\n    return [\n      ...ack,\n      new Brick(\n        BRICK_WIDTH,\n        BRICK_HEIGHT,\n        { x, y },\n        BRICK_ENERGY[element],\n        BRICK_IMAGES[element]\n      )\n    ];\n  }, [] as Brick[]);\n}\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$49a85a7c16903487$export$a83d7c3fa53790c9","constructor","speed","ballSize","position","image","ballImage","Image","this","x","y","src","width","height","pos","changeYDirection","changeXDirection","moveBall","$201d905be30be0d6$export$8b68b11806a145bb","paddleWidth","paddleHeight","paddleImage","handleKeyUp","e","code","key","moveLeft","moveRight","handleKeyDown","document","addEventListener","isMovingLeft","isMovingRight","movePaddle","$fb904e26c2bbd1c6$export$88c9f72b40fcdd85","isCollidingBrick","ball","brick","isCollidingBricks","bricks","colliding","forEach","energy","splice","checkBallCollision","paddle","view","canvas","$04a62a8a44093bbd$exports","URL","resolve","import","meta","url","toString","$b278863dd8d18bb6$exports","$33701dbf44a420c5$exports","$f5e52b1cc79115f5$exports","$a108109d24cfd5ee$exports","$f7cd5a44acb10590$exports","$db728a5b219c0f6a$exports","$411221efd52537ac$var$canvas","querySelector","$411221efd52537ac$export$b6b103a9564d8a89","Math","floor","$411221efd52537ac$export$5decdb53ff4af9a7","$411221efd52537ac$export$67f2d0fe4b29699","$411221efd52537ac$export$ac3384aa98035f9d","$parcel$interopDefault","$411221efd52537ac$export$960c0273512d9348","$411221efd52537ac$export$5391a00aef7012c6","$a51d5788f412b5db$export$d763173d10f54f27","brickWidth","brickHeight","brickEnergy","brickImage","$b4e14b6b8da86996$var$gameOver","$b4e14b6b8da86996$var$score","$b4e14b6b8da86996$var$gameLoop","collision","console","log","clear","drawBricks","drawSprite","drawScore","drawInfo","$b4e14b6b8da86996$var$setGameWin","$b4e14b6b8da86996$var$setGameOver","requestAnimationFrame","canvasName","context","getContext","scoreDisplay","start","info","clearRect","initStartButton","startFunction","score","innerHTML","text","drawImage","reduce","ack","element","row"],"version":3,"file":"index.e94a7de1.js.map"}